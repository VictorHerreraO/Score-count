# Task Analysis: #{{TASK_ID}} - {{TASK_TITLE}}

## Decision: {{APPROVE|REJECT}}

---

## Critical Evaluation

### Should This Be Implemented?

**Problem Validity**
{{Is this a real issue or subjective preference?}}

**Current State Assessment**
{{Why is existing approach inadequate?}}

**Trade-off Analysis**
{{Benefits vs. complexity introduced}}

**Recommendation**: {{IMPLEMENT|CLOSE_TASK|MODIFY_SCOPE}}

{{If REJECT, provide detailed reasoning and stop here}}

---

## Task Summary

**Issue**: #{{TASK_ID}}
**Title**: {{TASK_TITLE}}
**Type**: {{Bug Fix|Feature|Refactor|Chore}}
**Labels**: {{LABELS}}

---

## Problem Statement

{{Clear description of what's broken or needed}}

---

## Acceptance Criteria

{{List from issue, plus any additional criteria}}
- [ ] Criterion 1
- [ ] Criterion 2
- [ ] All tests pass
- [ ] Lint checks pass

---

## Risk Assessment

**Complexity**: {{LOW|MEDIUM|HIGH}}
**Estimated Files Changed**: {{NUMBER}}
**Breaking Changes**: {{YES|NO}}
**Test Coverage Impact**: {{Needs new tests|Existing tests sufficient}}

### Risks
1. **Risk**: {{Description}}
   **Mitigation**: {{How to handle}}

---

## Implementation Plan

### Architecture Impact
- **Affected Layers**: {{UI|Domain|Data}}
- **Pattern Changes**: {{None|describe}}

### Files to Modify
1. `{{path/to/file1.kt}}` - {{Purpose of change}}
2. `{{path/to/file2.kt}}` - {{Purpose of change}}

### Implementation Steps

**IMPORTANT**: Use HIGH-LEVEL DIRECTIVES, not full code implementations. Builder will write the actual code.

1. **Step 1**: {{Clear action item - WHAT to do, not HOW}}
   - **Objective**: {{What should be achieved}}
   - **Files**: {{Which files to modify}}
   - **Pattern Reference**: {{Point to existing code pattern if applicable, e.g., "Follow StateFlow pattern from GameViewModel.kt:45-67"}}
   - **Constraints**: {{Any critical constraints, e.g., "Must maintain immutability", "Use existing error handling pattern"}}

2. **Step 2**: {{Next action - WHAT to do, not HOW}}
   - **Objective**: {{Goal}}
   - **Files**: {{Files involved}}
   - **Pattern Reference**: {{Reference existing patterns}}
   - **Constraints**: {{Critical constraints}}

#### Code Snippets (Use ONLY for complex/non-obvious cases)

**Only include code snippets if:**
- Complex algorithm that's not obvious
- Tricky edge case handling
- Critical security/performance pattern
- Non-standard integration

{{CODE_SNIPPET_1}} (if needed)
```kotlin
// Only the non-obvious parts
```

### Testing Strategy
- **Unit Tests**: {{Which components need tests - describe assertions, not full test code}}
- **Integration Tests**: {{If needed - describe scenario, not full test code}}
- **Manual Testing**: {{Steps to verify}}

---

## Branch Information

**Branch Name**: `{{branch-name}}`
**Base Branch**: {{main|develop}}
**Latest Commit**: {{commit-sha}}

---

## Time Estimate

**Expected Duration**: {{X-Y}} minutes

---

## Concerns for Builder

{{Any tricky areas, edge cases, or things to watch out for}}

---

**Generated by Analyzer Agent**
**Timestamp**: {{TIMESTAMP}}
